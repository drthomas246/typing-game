import{r as e,m as t,B as r,C as n,D as u,M as l,I as s,k as o,E as a,F as i,G as c,H as d,J as f,K as p,L as m,N as v,j as g,i as h}from"./index-DvxvgMDz.js";import{c as y,m as N,E as x}from"./h-stack-CM-3ku_d.js";function de(e,t){return`${e} returned \`undefined\`. Seems you forgot to wrap component within ${t}`}function Z(t={}){let{name:r,strict:n=!0,hookName:u="useContext",providerName:l="Provider",errorMessage:s,defaultValue:o}=t,a=e.createContext(o);return a.displayName=r,[a.Provider,function t(){var r;let o=e.useContext(a);if(!o&&n){let e=Error(s??de(u,l));throw e.name="ContextError",null==(r=Error.captureStackTrace)||r.call(Error,e,t),e}return o},a]}let[Ee,Pe]=Z({name:"EnvironmentContext",hookName:"useEnvironmentContext",providerName:"<EnvironmentProvider />",strict:!1,defaultValue:{getRootNode:()=>document,getDocument:()=>document,getWindow:()=>window}});function pe(...e){return t=>{let r=[];for(let n of e)if("function"==typeof n){let e=n(t);"function"==typeof e&&r.push(e)}else n&&(n.current=t);if(r.length)return()=>{for(let e of r)e()}}}function ge(e){var t,r;let n=null==(t=Object.getOwnPropertyDescriptor(e.props,"ref"))?void 0:t.get,u=n&&"isReactWarning"in n&&n.isReactWarning;return u?e.ref:(u=(n=null==(r=Object.getOwnPropertyDescriptor(e,"ref"))?void 0:r.get)&&"isReactWarning"in n&&n.isReactWarning)?e.props.ref:e.props.ref||e.ref}let B=r=>{let n=e.memo(e.forwardRef((n,u)=>{let{asChild:l,children:s,...o}=n;if(!l)return e.createElement(r,{...o,ref:u},s);if(!e.isValidElement(s))return null;let a=e.Children.only(s),i=ge(a);return e.cloneElement(a,{...t(o,a.props),ref:u?pe(u,i):i})}));return n.displayName=r.displayName||r.name,n},me=()=>{let e=new Map;return new Proxy(B,{apply:(e,t,r)=>B(r[0]),get:(t,r)=>(e.has(r)||e.set(r,B(r)),e.get(r))})},he=me(),[we,Me]=Z({name:"LocaleContext",hookName:"useLocaleContext",providerName:"<LocaleProvider />",strict:!1,defaultValue:{dir:"ltr",locale:"en-US"}}),je=()=>(e,t)=>t.reduce((e,t)=>{let[r,n]=e;return void 0!==n[t]&&(r[t]=n[t]),delete n[t],[r,n]},[{},{...e}]);var ee="u">typeof globalThis.document?e.useLayoutEffect:e.useEffect;function U(t){let r=t().value??t().defaultValue,n=t().isEqual??Object.is,[u]=e.useState(r),[l,s]=e.useState(u),c=void 0!==t().value,d=e.useRef(l);d.current=c?t().value:l;let f=e.useRef(d.current);ee(()=>{f.current=d.current},[l,t().value]);let p=e=>{var r,u;let l=f.current,o=i(e)?e(l):e;t().debug&&console.log(`[bindable > ${t().debug}] setValue`,{next:o,prev:l}),c||s(o),n(o,l)||null==(u=(r=t()).onChange)||u.call(r,o,l)};return{initial:u,ref:d,get:function(){return c?t().value:l},set(e){(t().sync?o.flushSync:a)(()=>p(e))},invoke(e,r){var n,u;null==(u=(n=t()).onChange)||u.call(n,e,r)},hash(e){var r,n;return(null==(n=(r=t()).hash)?void 0:n.call(r,e))??String(e)}}}function ye(t){let r=e.useRef(t);return{get:e=>r.current[e],set(e,t){r.current[e]=t}}}U.cleanup=t=>{e.useEffect(()=>t,[])},U.ref=t=>{let r=e.useRef(t);return{get:()=>r.current,set:e=>{r.current=e}}};var xe=(t,r)=>{let n=e.useRef(!1),u=e.useRef(!1);e.useEffect(()=>{if(n.current&&u.current)return r();u.current=!0},[...(t??[]).map(e=>"function"==typeof e?e():e)]),e.useEffect(()=>(n.current=!0,()=>{n.current=!1}),[])};function $e(t,a={}){var p,m,v,g;let h=e.useMemo(()=>{let{id:e,ids:t,getRootNode:n}=a;return r({id:e,ids:t,getRootNode:n})},[a]),y=(...e)=>{t.debug&&console.log(...e)},N=ve((null==(p=t.props)?void 0:p.call(t,{props:n(a),scope:h}))??a),x=te(null==(m=t.context)?void 0:m.call(t,{prop:N,bindable:U,scope:h,flush:X,getContext:()=>C,getComputed:()=>D,getRefs:()=>k,getEvent:()=>M()})),C={get(e){var t;return null==(t=x.current)?void 0:t[e].ref.current},set(e,t){var r;null==(r=x.current)||r[e].set(t)},initial(e){var t;return null==(t=x.current)?void 0:t[e].initial},hash(e){var t,r;let n=null==(t=x.current)?void 0:t[e].get();return null==(r=x.current)?void 0:r[e].hash(n)}},R=e.useRef(new Map),S=e.useRef(null),w=e.useRef(null),E=e.useRef({type:""}),M=()=>({...E.current,current:()=>E.current,previous:()=>w.current}),P=()=>({...q,matches:(...e)=>e.includes(q.ref.current),hasTag(e){var r,n;return!!(null!=(n=null==(r=t.states[q.ref.current])?void 0:r.tags)&&n.includes(e))}}),k=ye((null==(v=t.refs)?void 0:v.call(t,{prop:N,context:C}))??{}),j=()=>({state:P(),context:C,event:M(),prop:N,send:J,action:$,guard:b,track:xe,refs:k,computed:D,flush:X,scope:h,choose:O}),$=e=>{let r=i(e)?e(j()):e;if(r)for(let e of r.map(e=>{var r,n;let u=null==(n=null==(r=t.implementations)?void 0:r.actions)?void 0:n[e];return u||c(`[zag-js] No implementation found for action "${JSON.stringify(e)}"`),u}))null==e||e(j())},b=e=>{var r,n;return i(e)?e(j()):null==(n=null==(r=t.implementations)?void 0:r.guards)?void 0:n[e](j())},V=e=>{let r=i(e)?e(j()):e;if(!r)return;let n=r.map(e=>{var r,n;let u=null==(n=null==(r=t.implementations)?void 0:r.effects)?void 0:n[e];return u||c(`[zag-js] No implementation found for effect "${JSON.stringify(e)}"`),u}),u=[];for(let e of n){let t=null==e?void 0:e(j());t&&u.push(t)}return()=>u.forEach(e=>null==e?void 0:e())},O=e=>d(e).find(e=>{let t=!e.guard;return f(e.guard)?t=!!b(e.guard):i(e.guard)&&(t=e.guard(j())),t}),D=e=>(u(t.computed,()=>"[zag-js] No computed object found on machine"),(0,t.computed[e])({context:C,event:M(),prop:N,refs:k,scope:h,computed:D})),q=U(()=>({defaultValue:t.initialState({prop:N}),onChange(e,r){var n,u,l,o;if(r){let e=R.current.get(r);null==e||e(),R.current.delete(r)}r&&$(null==(n=t.states[r])?void 0:n.exit),$(null==(u=S.current)?void 0:u.actions);let a=V(null==(l=t.states[e])?void 0:l.effects);if(a&&R.current.set(e,a),r===s){$(t.entry);let e=V(t.effects);e&&R.current.set(s,e)}$(null==(o=t.states[e])?void 0:o.entry)}})),z=e.useRef(void 0),L=e.useRef(l.NotStarted);ee(()=>{queueMicrotask(()=>{let e=L.current===l.Started;L.current=l.Started,y(e?"rehydrating...":"initializing...");let t=z.current??q.initial;q.invoke(t,e?q.get():s)});let e=R.current,r=q.ref.current;return()=>{y("unmounting..."),z.current=r,L.current=l.Stopped,e.forEach(e=>null==e?void 0:e()),R.current=new Map,S.current=null,queueMicrotask(()=>{$(t.exit)})}},[]);let W=()=>"ref"in q?q.ref.current:q.get(),J=e=>{queueMicrotask(()=>{var r,n;if(L.current!==l.Started)return;w.current=E.current,E.current=e;let u=W(),s=O((null==(r=t.states[u].on)?void 0:r[e.type])??(null==(n=t.on)?void 0:n[e.type]));if(!s)return;S.current=s;let a=s.target??u;y("transition",e.type,s.target||u,`(${s.actions})`);let i=a!==u;i?o.flushSync(()=>q.set(a)):s.reenter&&!i?q.invoke(u,u):$(s.actions??[])})};return null==(g=t.watch)||g.call(t,j()),{state:P(),send:J,context:C,prop:N,scope:h,refs:k,computed:D,event:M(),getStatus:()=>L.current}}function te(t){let r=e.useRef(t);return r.current=t,r}function ve(e){let t=te(e);return function(e){return t.current[e]}}function X(e){queueMicrotask(()=>{o.flushSync(()=>e())})}var be=p(e=>e);function Ce(t){let{key:r,recipe:n}=t,u=m();return e.useMemo(()=>{let e=n||(null!=r?u.getSlotRecipe(r):{});return u.sva(structuredClone(e))},[r,n,u])}let Re=e=>e.charAt(0).toUpperCase()+e.slice(1),ke=t=>{let{key:r,recipe:n}=t,u=Re(r||n.className||"Component"),[l,s]=v({name:`${u}StylesContext`,errorMessage:`use${u}Styles returned is 'undefined'. Seems you forgot to wrap the components in "<${u}.Root />" `}),[o,a]=v({name:`${u}ClassNameContext`,errorMessage:`use${u}ClassNames returned is 'undefined'. Seems you forgot to wrap the components in "<${u}.Root />" `,strict:!1}),[i,c]=v({strict:!1,name:`${u}PropsContext`,providerName:`${u}PropsContext`,defaultValue:{}});function d(t){let{unstyled:u,...l}=t,s=Ce({key:r,recipe:l.recipe||n}),[o,a]=e.useMemo(()=>s.splitVariantProps(l),[l,s]);return{styles:e.useMemo(()=>u?x:s(o),[u,o,s]),classNames:s.classNameMap,props:a}}return{StylesProvider:l,ClassNamesProvider:o,PropsProvider:i,usePropsContext:c,useRecipeResult:d,withProvider:(t,r,n)=>{let{defaultProps:u,...s}=n??{},a=y(t,{},s),i=e.forwardRef((t,s)=>{var i;let f=c(),p=e.useMemo(()=>N(u??{},f,t),[f,t]),{styles:m,props:v,classNames:y}=d(p),x=y[r],C=g.jsx(l,{value:m,children:g.jsx(o,{value:y,children:g.jsx(a,{ref:s,...v,css:[m[r],p.css],className:h(p.className,x)})})});return(null==(i=null==n?void 0:n.wrapElement)?void 0:i.call(n,C,p))??C});return i.displayName=t.displayName||t.name,i},withContext:(t,r,n)=>{let u=y(t,{},n),l=e.forwardRef((e,t)=>{let{unstyled:n,...l}=e,o=s(),i=a(),c=null==i?void 0:i[r];return g.jsx(u,{...l,css:[!n&&r?o[r]:void 0,e.css],ref:t,className:h(e.className,c)})});return l.displayName=t.displayName||t.name,l},withRootProvider:function(t,r={}){let{defaultProps:n}=r,u=r=>{let u=c(),{styles:s,classNames:a,props:i}=d(e.useMemo(()=>N(n,u,r),[u,r]));return g.jsx(l,{value:s,children:g.jsx(o,{value:a,children:g.jsx(t,{...i})})})};return u.displayName=t.displayName||t.name,u},useStyles:s,useClassNames:a}};export{he as a,je as b,Z as c,pe as d,Me as e,$e as f,ke as g,Ce as h,be as n,Pe as u};