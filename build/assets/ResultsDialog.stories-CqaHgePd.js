import{r as b,j as a,a as ot}from"./index-DODcjKns.js";import{m as it,n as at,b as ct,u as lt,H as dt,f as ut,j as ht,k as ft,d as pt}from"./PageContext-DKFtQtmM.js";import{k as Te,C as Se,a2 as J,a3 as gt,F,a4 as Le,b as D,B as De,V as Fe,d as ue,a as U,g as mt,a5 as Ie,a6 as T,a7 as me,a8 as be,a9 as K,aa as bt,ab as V,ac as ee,ad as je,ae as ve,af as vt,ag as yt,ah as xt,ai as Et,aj as Ct,ak as Nt,al as Pt,am as R,an as z,ao as te,ap as Ot,aq as wt,ar as kt,as as Tt,at as St,m as I,e as B,l as Ae,f as Lt,u as Be,U as Dt,W as Ft,a1 as Re,au as It}from"./create-slot-recipe-context-CXxIIvxI.js";import{c as H,a as P,H as Me,B as ae,T as jt}from"./h-stack-B8THil5x.js";import{V as At,C as L,S as Bt}from"./v-stack-Dd-QvRAx.js";const Ue=e=>Te()(e,["immediate","lazyMount","onExitComplete","present","skipAnimationOnMount","unmountOnExit"]);function Rt(e,t){const{state:n,send:s,context:r}=e,o=n.matches("mounted","unmountSuspended");return{skip:!r.get("initial"),present:o,setNode(i){i&&s({type:"NODE.SET",node:i})},unmount(){s({type:"UNMOUNT"})}}}var Mt=Se({props({props:e}){return{...e,present:!!e.present}},initialState({prop:e}){return e("present")?"mounted":"unmounted"},refs(){return{node:null,styles:null}},context({bindable:e}){return{unmountAnimationName:e(()=>({defaultValue:null})),prevAnimationName:e(()=>({defaultValue:null})),present:e(()=>({defaultValue:!1})),initial:e(()=>({sync:!0,defaultValue:!1}))}},exit:["clearInitial","cleanupNode"],watch({track:e,prop:t,send:n}){e([()=>t("present")],()=>{n({type:"PRESENCE.CHANGED"})})},on:{"NODE.SET":{actions:["setupNode"]},"PRESENCE.CHANGED":{actions:["setInitial","syncPresence"]}},states:{mounted:{on:{UNMOUNT:{target:"unmounted",actions:["clearPrevAnimationName","invokeOnExitComplete"]},"UNMOUNT.SUSPEND":{target:"unmountSuspended"}}},unmountSuspended:{effects:["trackAnimationEvents"],on:{MOUNT:{target:"mounted",actions:["setPrevAnimationName"]},UNMOUNT:{target:"unmounted",actions:["clearPrevAnimationName","invokeOnExitComplete"]}}},unmounted:{on:{MOUNT:{target:"mounted",actions:["setPrevAnimationName"]}}}},implementations:{actions:{setInitial:({context:e})=>{e.get("initial")||queueMicrotask(()=>{e.set("initial",!0)})},clearInitial:({context:e})=>{e.set("initial",!1)},invokeOnExitComplete:({prop:e})=>{var t;(t=e("onExitComplete"))==null||t()},setupNode:({refs:e,event:t})=>{e.get("node")!==t.node&&(e.set("node",t.node),e.set("styles",Le(t.node)))},cleanupNode:({refs:e})=>{e.set("node",null),e.set("styles",null)},syncPresence:({context:e,refs:t,send:n,prop:s})=>{const r=s("present");if(r)return n({type:"MOUNT",src:"presence.changed"});const o=t.get("node");if(!r&&(o==null?void 0:o.ownerDocument.visibilityState)==="hidden")return n({type:"UNMOUNT",src:"visibilitychange"});F(()=>{var l,d;const i=Y(t.get("styles"));e.set("unmountAnimationName",i),i==="none"||i===e.get("prevAnimationName")||((l=t.get("styles"))==null?void 0:l.display)==="none"||((d=t.get("styles"))==null?void 0:d.animationDuration)==="0s"?n({type:"UNMOUNT",src:"presence.changed"}):n({type:"UNMOUNT.SUSPEND"})})},setPrevAnimationName:({context:e,refs:t})=>{F(()=>{e.set("prevAnimationName",Y(t.get("styles")))})},clearPrevAnimationName:({context:e})=>{e.set("prevAnimationName",null)}},effects:{trackAnimationEvents:({context:e,refs:t,send:n,prop:s})=>{const r=t.get("node");if(!r)return;const o=d=>{var u,m;(((m=(u=d.composedPath)==null?void 0:u.call(d))==null?void 0:m[0])??d.target)===r&&e.set("prevAnimationName",Y(t.get("styles")))},i=d=>{const c=Y(t.get("styles"));D(d)===r&&c===e.get("unmountAnimationName")&&!s("present")&&n({type:"UNMOUNT",src:"animationend"})};r.addEventListener("animationstart",o),r.addEventListener("animationcancel",i),r.addEventListener("animationend",i);const l=J(r,{animationFillMode:"forwards"});return()=>{r.removeEventListener("animationstart",o),r.removeEventListener("animationcancel",i),r.removeEventListener("animationend",i),gt(()=>l())}}}}});function Y(e){return(e==null?void 0:e.animationName)||"none"}De()(["onExitComplete","present","immediate"]);function Ut(e,t={}){const{sync:n=!1}=t,s=$t(e);return b.useCallback((...r)=>{var o;return n?queueMicrotask(()=>{var i;return(i=s.current)==null?void 0:i.call(s,...r)}):(o=s.current)==null?void 0:o.call(s,...r)},[n,s])}function $t(e){const t=b.useRef(e);return t.current=e,t}const he=(e={})=>{const{lazyMount:t,unmountOnExit:n,present:s,skipAnimationOnMount:r=!1,...o}=e,i=b.useRef(!1),l={...o,present:s,onExitComplete:Ut(e.onExitComplete)},d=Fe(Mt,l),c=Rt(d);c.present&&(i.current=!0);const u=!c.present&&!i.current&&t||n&&!c.present&&i.current,m=()=>({"data-state":c.skip&&r?void 0:s?"open":"closed",hidden:!c.present});return{ref:c.setNode,getPresenceProps:m,present:c.present,unmounted:u}},[$e,fe]=ue({name:"PresenceContext",hookName:"usePresenceContext",providerName:"<PresenceProvider />"});function Gt(e){const t={each(n){var s;for(let r=0;r<((s=e.frames)==null?void 0:s.length);r+=1){const o=e.frames[r];o&&n(o)}},addEventListener(n,s,r){return t.each(o=>{try{o.document.addEventListener(n,s,r)}catch{}}),()=>{try{t.removeEventListener(n,s,r)}catch{}}},removeEventListener(n,s,r){t.each(o=>{try{o.document.removeEventListener(n,s,r)}catch{}})}};return t}function zt(e){const t=e.frameElement!=null?e.parent:null;return{addEventListener:(n,s,r)=>{try{t==null||t.addEventListener(n,s,r)}catch{}return()=>{try{t==null||t.removeEventListener(n,s,r)}catch{}}},removeEventListener:(n,s,r)=>{try{t==null||t.removeEventListener(n,s,r)}catch{}}}}var ye="pointerdown.outside",xe="focus.outside";function _t(e){for(const t of e)if(V(t)&&K(t))return!0;return!1}var Ge=e=>"clientY"in e;function Wt(e,t){if(!Ge(t)||!e)return!1;const n=e.getBoundingClientRect();return n.width===0||n.height===0?!1:n.top<=t.clientY&&t.clientY<=n.top+n.height&&n.left<=t.clientX&&t.clientX<=n.left+n.width}function Kt(e,t){return e.y<=t.y&&t.y<=e.y+e.height&&e.x<=t.x&&t.x<=e.x+e.width}function Ee(e,t){if(!t||!Ge(e))return!1;const n=t.scrollHeight>t.clientHeight,s=n&&e.clientX>t.offsetLeft+t.clientWidth,r=t.scrollWidth>t.clientWidth,o=r&&e.clientY>t.offsetTop+t.clientHeight,i={x:t.offsetLeft,y:t.offsetTop,width:t.clientWidth+(n?16:0),height:t.clientHeight+(r?16:0)},l={x:e.clientX,y:e.clientY};return Kt(i,l)?s||o:!1}function Vt(e,t){const{exclude:n,onFocusOutside:s,onPointerDownOutside:r,onInteractOutside:o,defer:i,followControlledElements:l=!0}=t;if(!e)return;const d=U(e),c=mt(e),u=Gt(c),m=zt(c);function v(E,h){if(!V(h)||!h.isConnected||ee(e,h)||Wt(e,E)||l&&je(e,h))return!1;const O=d.querySelector(`[aria-controls="${e.id}"]`);if(O){const w=ve(O);if(Ee(E,w))return!1}const G=ve(e);return Ee(E,G)?!1:!(n!=null&&n(h))}const f=new Set,g=Ie(e==null?void 0:e.getRootNode());function p(E){function h(O){var ge;const G=i&&!me()?F:q=>q(),w=O??E,pe=((ge=w==null?void 0:w.composedPath)==null?void 0:ge.call(w))??[w==null?void 0:w.target];G(()=>{const q=g?pe[0]:D(E);if(!(!e||!v(E,q))){if(r||o){const rt=be(r,o);e.addEventListener(ye,rt,{once:!0})}Ce(e,ye,{bubbles:!1,cancelable:!0,detail:{originalEvent:w,contextmenu:bt(w),focusable:_t(pe),target:q}})}})}E.pointerType==="touch"?(f.forEach(O=>O()),f.add(T(d,"click",h,{once:!0})),f.add(m.addEventListener("click",h,{once:!0})),f.add(u.addEventListener("click",h,{once:!0}))):h()}const y=new Set,C=setTimeout(()=>{y.add(T(d,"pointerdown",p,!0)),y.add(m.addEventListener("pointerdown",p,!0)),y.add(u.addEventListener("pointerdown",p,!0))},0);function N(E){(i?F:O=>O())(()=>{const O=D(E);if(!(!e||!v(E,O))){if(s||o){const G=be(s,o);e.addEventListener(xe,G,{once:!0})}Ce(e,xe,{bubbles:!1,cancelable:!0,detail:{originalEvent:E,contextmenu:!1,focusable:K(O),target:O}})}})}return me()||(y.add(T(d,"focusin",N,!0)),y.add(m.addEventListener("focusin",N,!0)),y.add(u.addEventListener("focusin",N,!0))),()=>{clearTimeout(C),f.forEach(E=>E()),y.forEach(E=>E())}}function Ht(e,t){const{defer:n}=t,s=n?F:o=>o(),r=[];return r.push(s(()=>{const o=typeof e=="function"?e():e;r.push(Vt(o,t))})),()=>{r.forEach(o=>o==null?void 0:o())}}function Ce(e,t,n){const s=e.ownerDocument.defaultView||window,r=new s.CustomEvent(t,n);return e.dispatchEvent(r)}function qt(e,t){const n=s=>{s.key==="Escape"&&(s.isComposing||t==null||t(s))};return T(U(e),"keydown",n,{capture:!0})}var Ne="layer:request-dismiss",k={layers:[],branches:[],count(){return this.layers.length},pointerBlockingLayers(){return this.layers.filter(e=>e.pointerBlocking)},topMostPointerBlockingLayer(){return[...this.pointerBlockingLayers()].slice(-1)[0]},hasPointerBlockingLayer(){return this.pointerBlockingLayers().length>0},isBelowPointerBlockingLayer(e){var s;const t=this.indexOf(e),n=this.topMostPointerBlockingLayer()?this.indexOf((s=this.topMostPointerBlockingLayer())==null?void 0:s.node):-1;return t<n},isTopMost(e){const t=this.layers[this.count()-1];return(t==null?void 0:t.node)===e},getNestedLayers(e){return Array.from(this.layers).slice(this.indexOf(e)+1)},getLayersByType(e){return this.layers.filter(t=>t.type===e)},getNestedLayersByType(e,t){const n=this.indexOf(e);return n===-1?[]:this.layers.slice(n+1).filter(s=>s.type===t)},getParentLayerOfType(e,t){const n=this.indexOf(e);if(!(n<=0))return this.layers.slice(0,n).reverse().find(s=>s.type===t)},countNestedLayersOfType(e,t){return this.getNestedLayersByType(e,t).length},isInNestedLayer(e,t){return this.getNestedLayers(e).some(n=>ee(n.node,t))},isInBranch(e){return Array.from(this.branches).some(t=>ee(t,e))},add(e){this.layers.push(e),this.syncLayers()},addBranch(e){this.branches.push(e)},remove(e){const t=this.indexOf(e);t<0||(t<this.count()-1&&this.getNestedLayers(e).forEach(s=>k.dismiss(s.node,e)),this.layers.splice(t,1),this.syncLayers())},removeBranch(e){const t=this.branches.indexOf(e);t>=0&&this.branches.splice(t,1)},syncLayers(){this.layers.forEach((e,t)=>{e.node.style.setProperty("--layer-index",`${t}`),e.node.removeAttribute("data-nested"),e.node.removeAttribute("data-has-nested"),this.getParentLayerOfType(e.node,e.type)&&e.node.setAttribute("data-nested",e.type);const s=this.countNestedLayersOfType(e.node,e.type);s>0&&e.node.setAttribute("data-has-nested",e.type),e.node.style.setProperty("--nested-layer-count",`${s}`)})},indexOf(e){return this.layers.findIndex(t=>t.node===e)},dismiss(e,t){const n=this.indexOf(e);if(n===-1)return;const s=this.layers[n];Xt(e,Ne,r=>{var o;(o=s.requestDismiss)==null||o.call(s,r),r.defaultPrevented||s==null||s.dismiss()}),Yt(e,Ne,{originalLayer:e,targetLayer:t,originalIndex:n,targetIndex:t?this.indexOf(t):-1}),this.syncLayers()},clear(){this.remove(this.layers[0].node)}};function Yt(e,t,n){const s=e.ownerDocument.defaultView||window,r=new s.CustomEvent(t,{cancelable:!0,bubbles:!0,detail:n});return e.dispatchEvent(r)}function Xt(e,t,n){e.addEventListener(t,n,{once:!0})}var Pe;function Oe(){k.layers.forEach(({node:e})=>{e.style.pointerEvents=k.isBelowPointerBlockingLayer(e)?"none":"auto"})}function Zt(e){e.style.pointerEvents=""}function Qt(e,t){const n=U(e),s=[];return k.hasPointerBlockingLayer()&&!n.body.hasAttribute("data-inert")&&(Pe=document.body.style.pointerEvents,queueMicrotask(()=>{n.body.style.pointerEvents="none",n.body.setAttribute("data-inert","")})),t==null||t.forEach(r=>{const[o,i]=xt(()=>{const l=r();return V(l)?l:null},{timeout:1e3});o.then(l=>s.push(J(l,{pointerEvents:"auto"}))),s.push(i)}),()=>{k.hasPointerBlockingLayer()||(queueMicrotask(()=>{n.body.style.pointerEvents=Pe,n.body.removeAttribute("data-inert"),n.body.style.length===0&&n.body.removeAttribute("style")}),s.forEach(r=>r()))}}function Jt(e,t){const{warnOnMissingNode:n=!0}=t;if(n&&!e){yt("[@zag-js/dismissable] node is `null` or `undefined`");return}if(!e)return;const{onDismiss:s,onRequestDismiss:r,pointerBlocking:o,exclude:i,debug:l,type:d="dialog"}=t,c={dismiss:s,node:e,type:d,pointerBlocking:o,requestDismiss:r};k.add(c),Oe();function u(p){var C,N;const y=D(p.detail.originalEvent);k.isBelowPointerBlockingLayer(e)||k.isInBranch(y)||((C=t.onPointerDownOutside)==null||C.call(t,p),(N=t.onInteractOutside)==null||N.call(t,p),!p.defaultPrevented&&(l&&console.log("onPointerDownOutside:",p.detail.originalEvent),s==null||s()))}function m(p){var C,N;const y=D(p.detail.originalEvent);k.isInBranch(y)||((C=t.onFocusOutside)==null||C.call(t,p),(N=t.onInteractOutside)==null||N.call(t,p),!p.defaultPrevented&&(l&&console.log("onFocusOutside:",p.detail.originalEvent),s==null||s()))}function v(p){var y;k.isTopMost(e)&&((y=t.onEscapeKeyDown)==null||y.call(t,p),!p.defaultPrevented&&s&&(p.preventDefault(),s()))}function f(p){var E;if(!e)return!1;const y=typeof i=="function"?i():i,C=Array.isArray(y)?y:[y],N=(E=t.persistentElements)==null?void 0:E.map(h=>h()).filter(V);return N&&C.push(...N),C.some(h=>ee(h,p))||k.isInNestedLayer(e,p)}const g=[o?Qt(e,t.persistentElements):void 0,qt(e,v),Ht(e,{exclude:f,onFocusOutside:m,onPointerDownOutside:u,defer:t.defer})];return()=>{k.remove(e),Oe(),Zt(e),g.forEach(p=>p==null?void 0:p())}}function es(e,t){const{defer:n}=t,s=n?F:o=>o(),r=[];return r.push(s(()=>{const o=vt(e)?e():e;r.push(Jt(o,t))})),()=>{r.forEach(o=>o==null?void 0:o())}}const[ze,ts]=ue({name:"RenderStrategyContext",hookName:"useRenderStrategyContext",providerName:"<RenderStrategyPropsProvider />"}),_e=e=>Te()(e,["lazyMount","unmountOnExit"]);var M=new WeakMap,X=new WeakMap,Z={},se=0,We=e=>e&&(e.host||We(e.parentNode)),ss=(e,t)=>t.map(n=>{if(e.contains(n))return n;const s=We(n);return s&&e.contains(s)?s:(console.error("[zag-js > ariaHidden] target",n,"in not contained inside",e,". Doing nothing"),null)}).filter(n=>!!n),ns=new Set(["script","output","status","next-route-announcer"]),rs=e=>ns.has(e.localName)||e.role==="status"||e.hasAttribute("aria-live")?!0:e.matches("[data-live-announcer]"),os=(e,t)=>{const{parentNode:n,markerName:s,controlAttribute:r,followControlledElements:o=!0}=t,i=ss(n,Array.isArray(e)?e:[e]);Z[s]||(Z[s]=new WeakMap);const l=Z[s],d=[],c=new Set,u=new Set(i),m=f=>{!f||c.has(f)||(c.add(f),m(f.parentNode))};i.forEach(f=>{m(f),o&&V(f)&&Et(f,g=>{m(g)})});const v=f=>{!f||u.has(f)||Array.prototype.forEach.call(f.children,g=>{if(c.has(g))v(g);else try{if(rs(g))return;const y=g.getAttribute(r)==="true",C=(M.get(g)||0)+1,N=(l.get(g)||0)+1;M.set(g,C),l.set(g,N),d.push(g),C===1&&y&&X.set(g,!0),N===1&&g.setAttribute(s,""),y||g.setAttribute(r,"true")}catch(p){console.error("[zag-js > ariaHidden] cannot operate on ",g,p)}})};return v(n),c.clear(),se++,()=>{d.forEach(f=>{const g=M.get(f)-1,p=l.get(f)-1;M.set(f,g),l.set(f,p),g||(X.has(f)||f.removeAttribute(r),X.delete(f)),p||f.removeAttribute(s)}),se--,se||(M=new WeakMap,M=new WeakMap,X=new WeakMap,Z={})}},is=e=>(Array.isArray(e)?e[0]:e).ownerDocument.body,as=(e,t=is(e),n="data-aria-hidden",s=!0)=>{if(t)return os(e,{parentNode:t,markerName:n,controlAttribute:"aria-hidden",followControlledElements:s})},cs=e=>{const t=requestAnimationFrame(()=>e());return()=>cancelAnimationFrame(t)};function ls(e,t={}){const{defer:n=!0}=t,s=n?cs:o=>o(),r=[];return r.push(s(()=>{const i=(typeof e=="function"?e():e).filter(Boolean);i.length!==0&&r.push(as(i))})),()=>{r.forEach(o=>o==null?void 0:o())}}var ds=Object.defineProperty,us=(e,t,n)=>t in e?ds(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,x=(e,t,n)=>us(e,typeof t!="symbol"?t+"":t,n),we={activateTrap(e,t){if(e.length>0){const s=e[e.length-1];s!==t&&s.pause()}const n=e.indexOf(t);n===-1||e.splice(n,1),e.push(t)},deactivateTrap(e,t){const n=e.indexOf(t);n!==-1&&e.splice(n,1),e.length>0&&e[e.length-1].unpause()}},hs=[],fs=class{constructor(e,t){x(this,"trapStack"),x(this,"config"),x(this,"doc"),x(this,"state",{containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0,recentNavEvent:void 0}),x(this,"portalContainers",new Set),x(this,"listenerCleanups",[]),x(this,"handleFocus",s=>{const r=D(s),o=this.findContainerIndex(r,s)>=0;if(o||Ot(r))o&&(this.state.mostRecentlyFocusedNode=r);else{s.stopImmediatePropagation();let i,l=!0;if(this.state.mostRecentlyFocusedNode)if(z(this.state.mostRecentlyFocusedNode)>0){const d=this.findContainerIndex(this.state.mostRecentlyFocusedNode),{tabbableNodes:c}=this.state.containerGroups[d];if(c.length>0){const u=c.findIndex(m=>m===this.state.mostRecentlyFocusedNode);u>=0&&(this.config.isKeyForward(this.state.recentNavEvent)?u+1<c.length&&(i=c[u+1],l=!1):u-1>=0&&(i=c[u-1],l=!1))}}else this.state.containerGroups.some(d=>d.tabbableNodes.some(c=>z(c)>0))||(l=!1);else l=!1;l&&(i=this.findNextNavNode({target:this.state.mostRecentlyFocusedNode,isBackward:this.config.isKeyBackward(this.state.recentNavEvent)})),i?this.tryFocus(i):this.tryFocus(this.state.mostRecentlyFocusedNode||this.getInitialFocusNode())}this.state.recentNavEvent=void 0}),x(this,"handlePointerDown",s=>{const r=D(s);if(!(this.findContainerIndex(r,s)>=0)){if(W(this.config.clickOutsideDeactivates,s)){this.deactivate({returnFocus:this.config.returnFocusOnDeactivate});return}W(this.config.allowOutsideClick,s)||s.preventDefault()}}),x(this,"handleClick",s=>{const r=D(s);this.findContainerIndex(r,s)>=0||W(this.config.clickOutsideDeactivates,s)||W(this.config.allowOutsideClick,s)||(s.preventDefault(),s.stopImmediatePropagation())}),x(this,"handleTabKey",s=>{if(this.config.isKeyForward(s)||this.config.isKeyBackward(s)){this.state.recentNavEvent=s;const r=this.config.isKeyBackward(s),o=this.findNextNavNode({event:s,isBackward:r});if(!o)return;_(s)&&s.preventDefault(),this.tryFocus(o)}}),x(this,"handleEscapeKey",s=>{ps(s)&&W(this.config.escapeDeactivates,s)!==!1&&(s.preventDefault(),this.deactivate())}),x(this,"_mutationObserver"),x(this,"setupMutationObserver",()=>{const s=this.doc.defaultView||window;this._mutationObserver=new s.MutationObserver(r=>{r.some(l=>Array.from(l.removedNodes).some(c=>c===this.state.mostRecentlyFocusedNode))&&this.tryFocus(this.getInitialFocusNode()),r.some(l=>l.type==="attributes"&&(l.attributeName==="aria-controls"||l.attributeName==="aria-expanded")?!0:l.type==="childList"&&l.addedNodes.length>0?Array.from(l.addedNodes).some(d=>{if(d.nodeType!==Node.ELEMENT_NODE)return!1;const c=d;return wt(c)?!0:c.id&&!this.state.containers.some(u=>u.contains(c))?kt(c):!1}):!1)&&this.state.active&&!this.state.paused&&(this.updateTabbableNodes(),this.updatePortalContainers())})}),x(this,"updateObservedNodes",()=>{var s;(s=this._mutationObserver)==null||s.disconnect(),this.state.active&&!this.state.paused&&(this.state.containers.map(r=>{var o;(o=this._mutationObserver)==null||o.observe(r,{subtree:!0,childList:!0,attributes:!0,attributeFilter:["aria-controls","aria-expanded"]})}),this.portalContainers.forEach(r=>{this.observePortalContainer(r)}))}),x(this,"getInitialFocusNode",()=>{let s=this.getNodeForOption("initialFocus",{hasFallback:!0});if(s===!1)return!1;if(s===void 0||s&&!K(s)){const r=te(this.doc);if(r&&this.findContainerIndex(r)>=0)s=r;else{const o=this.state.tabbableGroups[0];s=o&&o.firstTabbableNode||this.getNodeForOption("fallbackFocus")}}else s===null&&(s=this.getNodeForOption("fallbackFocus"));if(!s)throw new Error("Your focus-trap needs to have at least one focusable element");return s.isConnected||(s=this.getNodeForOption("fallbackFocus")),s}),x(this,"tryFocus",s=>{if(s!==!1&&s!==te(this.doc)){if(!s||!s.focus){this.tryFocus(this.getInitialFocusNode());return}s.focus({preventScroll:!!this.config.preventScroll}),this.state.mostRecentlyFocusedNode=s,gs(s)&&s.select()}}),x(this,"deactivate",s=>{if(!this.state.active)return this;const r={onDeactivate:this.config.onDeactivate,onPostDeactivate:this.config.onPostDeactivate,checkCanReturnFocus:this.config.checkCanReturnFocus,...s};clearTimeout(this.state.delayInitialFocusTimer),this.state.delayInitialFocusTimer=void 0,this.removeListeners(),this.state.active=!1,this.state.paused=!1,this.updateObservedNodes(),we.deactivateTrap(this.trapStack,this),this.portalContainers.clear();const o=this.getOption(r,"onDeactivate"),i=this.getOption(r,"onPostDeactivate"),l=this.getOption(r,"checkCanReturnFocus"),d=this.getOption(r,"returnFocus","returnFocusOnDeactivate");o==null||o();const c=()=>{ke(()=>{if(d){const u=this.getReturnFocusNode(this.state.nodeFocusedBeforeActivation);this.tryFocus(u)}i==null||i()})};if(d&&l){const u=this.getReturnFocusNode(this.state.nodeFocusedBeforeActivation);return l(u).then(c,c),this}return c(),this}),x(this,"pause",s=>{if(this.state.paused||!this.state.active)return this;const r=this.getOption(s,"onPause"),o=this.getOption(s,"onPostPause");return this.state.paused=!0,r==null||r(),this.removeListeners(),this.updateObservedNodes(),o==null||o(),this}),x(this,"unpause",s=>{if(!this.state.paused||!this.state.active)return this;const r=this.getOption(s,"onUnpause"),o=this.getOption(s,"onPostUnpause");return this.state.paused=!1,r==null||r(),this.updateTabbableNodes(),this.addListeners(),this.updateObservedNodes(),o==null||o(),this}),x(this,"updateContainerElements",s=>(this.state.containers=Array.isArray(s)?s.filter(Boolean):[s].filter(Boolean),this.state.active&&this.updateTabbableNodes(),this.updateObservedNodes(),this)),x(this,"getReturnFocusNode",s=>{const r=this.getNodeForOption("setReturnFocus",{params:[s]});return r||(r===!1?!1:s)}),x(this,"getOption",(s,r,o)=>s&&s[r]!==void 0?s[r]:this.config[o||r]),x(this,"getNodeForOption",(s,{hasFallback:r=!1,params:o=[]}={})=>{let i=this.config[s];if(typeof i=="function"&&(i=i(...o)),i===!0&&(i=void 0),!i){if(i===void 0||i===!1)return i;throw new Error(`\`${s}\` was specified but was not a node, or did not return a node`)}let l=i;if(typeof i=="string"){try{l=this.doc.querySelector(i)}catch(d){throw new Error(`\`${s}\` appears to be an invalid selector; error="${d.message}"`)}if(!l&&!r)throw new Error(`\`${s}\` as selector refers to no known node`)}return l}),x(this,"findNextNavNode",s=>{const{event:r,isBackward:o=!1}=s,i=s.target||D(r);this.updateTabbableNodes();let l=null;if(this.state.tabbableGroups.length>0){const d=this.findContainerIndex(i,r),c=d>=0?this.state.containerGroups[d]:void 0;if(d<0)o?l=this.state.tabbableGroups[this.state.tabbableGroups.length-1].lastTabbableNode:l=this.state.tabbableGroups[0].firstTabbableNode;else if(o){let u=this.state.tabbableGroups.findIndex(({firstTabbableNode:m})=>i===m);if(u<0&&((c==null?void 0:c.container)===i||K(i)&&!R(i)&&!(c!=null&&c.nextTabbableNode(i,!1)))&&(u=d),u>=0){const m=u===0?this.state.tabbableGroups.length-1:u-1,v=this.state.tabbableGroups[m];l=z(i)>=0?v.lastTabbableNode:v.lastDomTabbableNode}else _(r)||(l=c==null?void 0:c.nextTabbableNode(i,!1))}else{let u=this.state.tabbableGroups.findIndex(({lastTabbableNode:m})=>i===m);if(u<0&&((c==null?void 0:c.container)===i||K(i)&&!R(i)&&!(c!=null&&c.nextTabbableNode(i)))&&(u=d),u>=0){const m=u===this.state.tabbableGroups.length-1?0:u+1,v=this.state.tabbableGroups[m];l=z(i)>=0?v.firstTabbableNode:v.firstDomTabbableNode}else _(r)||(l=c==null?void 0:c.nextTabbableNode(i))}}else l=this.getNodeForOption("fallbackFocus");return l}),this.trapStack=t.trapStack||hs;const n={returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0,followControlledElements:!0,isKeyForward(s){return _(s)&&!s.shiftKey},isKeyBackward(s){return _(s)&&s.shiftKey},...t};this.doc=n.document||U(Array.isArray(e)?e[0]:e),this.config=n,this.updateContainerElements(e),this.setupMutationObserver()}addPortalContainer(e){const t=e.parentElement;t&&!this.portalContainers.has(t)&&(this.portalContainers.add(t),this.state.active&&!this.state.paused&&this.observePortalContainer(t))}observePortalContainer(e){var t;(t=this._mutationObserver)==null||t.observe(e,{subtree:!0,childList:!0,attributes:!0,attributeFilter:["aria-controls","aria-expanded"]})}updatePortalContainers(){this.config.followControlledElements&&this.state.containers.forEach(e=>{Ct(e).forEach(n=>{this.addPortalContainer(n)})})}get active(){return this.state.active}get paused(){return this.state.paused}findContainerIndex(e,t){const n=typeof(t==null?void 0:t.composedPath)=="function"?t.composedPath():void 0;return this.state.containerGroups.findIndex(({container:s,tabbableNodes:r})=>s.contains(e)||(n==null?void 0:n.includes(s))||r.find(o=>o===e)||this.isControlledElement(s,e))}isControlledElement(e,t){return this.config.followControlledElements?je(e,t):!1}updateTabbableNodes(){if(this.state.containerGroups=this.state.containers.map(e=>{const t=Nt(e),n=Pt(e),s=t.length>0?t[0]:void 0,r=t.length>0?t[t.length-1]:void 0,o=n.find(c=>R(c)),i=n.slice().reverse().find(c=>R(c)),l=!!t.find(c=>z(c)>0);function d(c,u=!0){const m=t.indexOf(c);return m<0?u?n.slice(n.indexOf(c)+1).find(v=>R(v)):n.slice(0,n.indexOf(c)).reverse().find(v=>R(v)):t[m+(u?1:-1)]}return{container:e,tabbableNodes:t,focusableNodes:n,posTabIndexesFound:l,firstTabbableNode:s,lastTabbableNode:r,firstDomTabbableNode:o,lastDomTabbableNode:i,nextTabbableNode:d}}),this.state.tabbableGroups=this.state.containerGroups.filter(e=>e.tabbableNodes.length>0),this.state.tabbableGroups.length<=0&&!this.getNodeForOption("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times");if(this.state.containerGroups.find(e=>e.posTabIndexesFound)&&this.state.containerGroups.length>1)throw new Error("At least one node with a positive tabindex was found in one of your focus-trap's multiple containers. Positive tabindexes are only supported in single-container focus-traps.")}addListeners(){if(this.state.active)return we.activateTrap(this.trapStack,this),this.state.delayInitialFocusTimer=this.config.delayInitialFocus?ke(()=>{this.tryFocus(this.getInitialFocusNode())}):this.tryFocus(this.getInitialFocusNode()),this.listenerCleanups.push(T(this.doc,"focusin",this.handleFocus,!0),T(this.doc,"mousedown",this.handlePointerDown,{capture:!0,passive:!1}),T(this.doc,"touchstart",this.handlePointerDown,{capture:!0,passive:!1}),T(this.doc,"click",this.handleClick,{capture:!0,passive:!1}),T(this.doc,"keydown",this.handleTabKey,{capture:!0,passive:!1}),T(this.doc,"keydown",this.handleEscapeKey)),this}removeListeners(){if(this.state.active)return this.listenerCleanups.forEach(e=>e()),this.listenerCleanups=[],this}activate(e){if(this.state.active)return this;const t=this.getOption(e,"onActivate"),n=this.getOption(e,"onPostActivate"),s=this.getOption(e,"checkCanFocusTrap");s||this.updateTabbableNodes(),this.state.active=!0,this.state.paused=!1,this.state.nodeFocusedBeforeActivation=te(this.doc),t==null||t();const r=()=>{s&&this.updateTabbableNodes(),this.addListeners(),this.updateObservedNodes(),n==null||n()};return s?(s(this.state.containers.concat()).then(r,r),this):(r(),this)}},_=e=>e.key==="Tab",W=(e,...t)=>typeof e=="function"?e(...t):e,ps=e=>!e.isComposing&&e.key==="Escape",ke=e=>setTimeout(e,0),gs=e=>e.localName==="input"&&"select"in e&&typeof e.select=="function";function ms(e,t={}){let n;const s=F(()=>{const r=typeof e=="function"?e():e;if(r){n=new fs(r,{escapeDeactivates:!1,allowOutsideClick:!0,preventScroll:!0,returnFocusOnDeactivate:!0,delayInitialFocus:!1,fallbackFocus:r,...t,document:U(r)});try{n.activate()}catch{}}});return function(){n==null||n.deactivate(),s()}}var ne="data-scroll-lock";function bs(e){const t=e.getBoundingClientRect().left;return Math.round(t)+e.scrollLeft?"paddingLeft":"paddingRight"}function vs(e){const t=e??document,n=t.defaultView??window,{documentElement:s,body:r}=t;if(r.hasAttribute(ne))return;const i=n.innerWidth-s.clientWidth;r.setAttribute(ne,"");const l=()=>Tt(s,"--scrollbar-width",`${i}px`),d=bs(s),c=()=>J(r,{overflow:"hidden",[d]:`${i}px`}),u=()=>{const{scrollX:v,scrollY:f,visualViewport:g}=n,p=(g==null?void 0:g.offsetLeft)??0,y=(g==null?void 0:g.offsetTop)??0,C=J(r,{position:"fixed",overflow:"hidden",top:`${-(f-Math.floor(y))}px`,left:`${-(v-Math.floor(p))}px`,right:"0",[d]:`${i}px`});return()=>{C==null||C(),n.scrollTo({left:v,top:f,behavior:"instant"})}},m=[l(),St()?u():c()];return()=>{m.forEach(v=>v==null?void 0:v()),r.removeAttribute(ne)}}const[Ke,j]=ue({name:"DialogContext",hookName:"useDialogContext",providerName:"<DialogProvider />"}),Ve=b.forwardRef((e,t)=>{const n=j(),s=ts(),r=he({...s,present:n.open}),o=I(n.getBackdropProps(),r.getPresenceProps(),e);return r.unmounted?null:a.jsx(B.div,{...o,ref:Ae(r.ref,t)})});Ve.displayName="DialogBackdrop";const He=b.forwardRef((e,t)=>{const n=j(),s=I(n.getCloseTriggerProps(),e);return a.jsx(B.button,{...s,ref:t})});He.displayName="DialogCloseTrigger";const qe=b.forwardRef((e,t)=>{const n=j(),s=fe(),r=I(n.getContentProps(),s.getPresenceProps(),e);return s.unmounted?null:a.jsx(B.div,{...r,ref:Ae(s.ref,t)})});qe.displayName="DialogContent";const Ye=b.forwardRef((e,t)=>{const n=j(),s=I(n.getDescriptionProps(),e);return a.jsx(B.div,{...s,ref:t})});Ye.displayName="DialogDescription";const Xe=b.forwardRef((e,t)=>{const n=j(),s=I(n.getPositionerProps(),e);return fe().unmounted?null:a.jsx(B.div,{...s,ref:t})});Xe.displayName="DialogPositioner";var ys=Lt("dialog").parts("trigger","backdrop","positioner","content","title","description","closeTrigger"),A=ys.build(),Ze=e=>{var t;return((t=e.ids)==null?void 0:t.positioner)??`dialog:${e.id}:positioner`},Qe=e=>{var t;return((t=e.ids)==null?void 0:t.backdrop)??`dialog:${e.id}:backdrop`},ce=e=>{var t;return((t=e.ids)==null?void 0:t.content)??`dialog:${e.id}:content`},Je=e=>{var t;return((t=e.ids)==null?void 0:t.trigger)??`dialog:${e.id}:trigger`},le=e=>{var t;return((t=e.ids)==null?void 0:t.title)??`dialog:${e.id}:title`},de=e=>{var t;return((t=e.ids)==null?void 0:t.description)??`dialog:${e.id}:description`},et=e=>{var t;return((t=e.ids)==null?void 0:t.closeTrigger)??`dialog:${e.id}:close`},Q=e=>e.getById(ce(e)),xs=e=>e.getById(Ze(e)),Es=e=>e.getById(Qe(e)),Cs=e=>e.getById(Je(e)),Ns=e=>e.getById(le(e)),Ps=e=>e.getById(de(e)),Os=e=>e.getById(et(e));function ws(e,t){const{state:n,send:s,context:r,prop:o,scope:i}=e,l=o("aria-label"),d=n.matches("open");return{open:d,setOpen(c){n.matches("open")!==c&&s({type:c?"OPEN":"CLOSE"})},getTriggerProps(){return t.button({...A.trigger.attrs,dir:o("dir"),id:Je(i),"aria-haspopup":"dialog",type:"button","aria-expanded":d,"data-state":d?"open":"closed","aria-controls":ce(i),onClick(c){c.defaultPrevented||s({type:"TOGGLE"})}})},getBackdropProps(){return t.element({...A.backdrop.attrs,dir:o("dir"),hidden:!d,id:Qe(i),"data-state":d?"open":"closed"})},getPositionerProps(){return t.element({...A.positioner.attrs,dir:o("dir"),id:Ze(i),style:{pointerEvents:d?void 0:"none"}})},getContentProps(){const c=r.get("rendered");return t.element({...A.content.attrs,dir:o("dir"),role:o("role"),hidden:!d,id:ce(i),tabIndex:-1,"data-state":d?"open":"closed","aria-modal":!0,"aria-label":l||void 0,"aria-labelledby":l||!c.title?void 0:le(i),"aria-describedby":c.description?de(i):void 0})},getTitleProps(){return t.element({...A.title.attrs,dir:o("dir"),id:le(i)})},getDescriptionProps(){return t.element({...A.description.attrs,dir:o("dir"),id:de(i)})},getCloseTriggerProps(){return t.button({...A.closeTrigger.attrs,dir:o("dir"),id:et(i),type:"button",onClick(c){c.defaultPrevented||(c.stopPropagation(),s({type:"CLOSE"}))}})}}}var ks=Se({props({props:e,scope:t}){const n=e.role==="alertdialog",s=n?()=>Os(t):void 0,r=typeof e.modal=="boolean"?e.modal:!0;return{role:"dialog",modal:r,trapFocus:r,preventScroll:r,closeOnInteractOutside:!n,closeOnEscape:!0,restoreFocus:!0,initialFocusEl:s,...e}},initialState({prop:e}){return e("open")||e("defaultOpen")?"open":"closed"},context({bindable:e}){return{rendered:e(()=>({defaultValue:{title:!0,description:!0}}))}},watch({track:e,action:t,prop:n}){e([()=>n("open")],()=>{t(["toggleVisibility"])})},states:{open:{entry:["checkRenderedElements","syncZIndex"],effects:["trackDismissableElement","trapFocus","preventScroll","hideContentBelow"],on:{"CONTROLLED.CLOSE":{target:"closed"},CLOSE:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"closed",actions:["invokeOnClose"]}],TOGGLE:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"closed",actions:["invokeOnClose"]}]}},closed:{on:{"CONTROLLED.OPEN":{target:"open"},OPEN:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen"]}],TOGGLE:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen"]}]}}},implementations:{guards:{isOpenControlled:({prop:e})=>e("open")!=null},effects:{trackDismissableElement({scope:e,send:t,prop:n}){return es(()=>Q(e),{type:"dialog",defer:!0,pointerBlocking:n("modal"),exclude:[Cs(e)],onInteractOutside(r){var o;(o=n("onInteractOutside"))==null||o(r),n("closeOnInteractOutside")||r.preventDefault()},persistentElements:n("persistentElements"),onFocusOutside:n("onFocusOutside"),onPointerDownOutside:n("onPointerDownOutside"),onRequestDismiss:n("onRequestDismiss"),onEscapeKeyDown(r){var o;(o=n("onEscapeKeyDown"))==null||o(r),n("closeOnEscape")||r.preventDefault()},onDismiss(){t({type:"CLOSE",src:"interact-outside"})}})},preventScroll({scope:e,prop:t}){if(t("preventScroll"))return vs(e.getDoc())},trapFocus({scope:e,prop:t}){return t("trapFocus")?ms(()=>Q(e),{preventScroll:!0,returnFocusOnDeactivate:!!t("restoreFocus"),initialFocus:t("initialFocusEl"),setReturnFocus:s=>{var r;return((r=t("finalFocusEl"))==null?void 0:r())??s}}):void 0},hideContentBelow({scope:e,prop:t}){return t("modal")?ls(()=>[Q(e)],{defer:!0}):void 0}},actions:{checkRenderedElements({context:e,scope:t}){F(()=>{e.set("rendered",{title:!!Ns(t),description:!!Ps(t)})})},syncZIndex({scope:e}){F(()=>{const t=Q(e);if(!t)return;const n=Le(t);[xs(e),Es(e)].forEach(r=>{r==null||r.style.setProperty("--z-index",n.zIndex),r==null||r.style.setProperty("--layer-index",n.getPropertyValue("--layer-index"))})})},invokeOnClose({prop:e}){var t;(t=e("onOpenChange"))==null||t({open:!1})},invokeOnOpen({prop:e}){var t;(t=e("onOpenChange"))==null||t({open:!0})},toggleVisibility({prop:e,send:t,event:n}){t({type:e("open")?"CONTROLLED.OPEN":"CONTROLLED.CLOSE",previousEvent:n})}}}});De()(["aria-label","closeOnEscape","closeOnInteractOutside","dir","finalFocusEl","getRootNode","getRootNode","id","id","ids","initialFocusEl","modal","onEscapeKeyDown","onFocusOutside","onInteractOutside","onOpenChange","onPointerDownOutside","onRequestDismiss","defaultOpen","open","persistentElements","preventScroll","restoreFocus","role","trapFocus"]);const Ts=e=>{const t=b.useId(),{getRootNode:n}=Be(),{dir:s}=Dt(),r={id:t,getRootNode:n,dir:s,...e},o=Fe(ks,r);return ws(o,Ft)},Ss=e=>{const[t,{children:n,...s}]=Ue(e),[r]=_e(t),o=Ts(s),i=he(I({present:o.open},t));return a.jsx(Ke,{value:o,children:a.jsx(ze,{value:r,children:a.jsx($e,{value:i,children:n})})})},Ls=e=>{const[t,{value:n,children:s}]=Ue(e),[r]=_e(t),o=he(I({present:n.open},t));return a.jsx(Ke,{value:n,children:a.jsx(ze,{value:r,children:a.jsx($e,{value:o,children:s})})})},tt=b.forwardRef((e,t)=>{const n=j(),s=I(n.getTitleProps(),e);return a.jsx(B.h2,{...s,ref:t})});tt.displayName="DialogTitle";const st=b.forwardRef((e,t)=>{const n=j(),s=fe(),r=I({...n.getTriggerProps(),"aria-controls":s.unmounted?void 0:n.getTriggerProps()["aria-controls"]},e);return a.jsx(B.button,{...r,ref:t})});st.displayName="DialogTrigger";const Ds=e=>{var d;const{children:t,disabled:n}=e,[s,r]=b.useState((d=e.container)==null?void 0:d.current),o=b.useSyncExternalStore(Is,()=>!1,()=>!0),{getRootNode:i}=Be();if(b.useEffect(()=>{r(()=>{var c;return(c=e.container)==null?void 0:c.current})},[e.container]),o||n)return a.jsx(a.Fragment,{children:t});const l=s??Fs(i);return a.jsx(a.Fragment,{children:b.Children.map(t,c=>ot.createPortal(c,l))})},Fs=e=>{const t=e==null?void 0:e(),n=t.getRootNode();return Ie(n)?n:U(t).body},Is=()=>()=>{},js=e=>a.jsxs(H.svg,{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",...e,children:[a.jsx("path",{d:"m5 12 7-7 7 7"}),a.jsx("path",{d:"M12 19V5"})]}),As=e=>a.jsxs(H.svg,{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",...e,children:[a.jsx("path",{d:"M12 5v14"}),a.jsx("path",{d:"m19 12-7 7-7-7"})]}),Bs=e=>a.jsx(H.svg,{viewBox:"0 0 24 24",fill:"currentColor",...e,children:a.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18.7071 6.70711C19.0976 6.31658 19.0976 5.68342 18.7071 5.29289C18.3166 4.90237 17.6834 4.90237 17.2929 5.29289L12 10.5858L6.70711 5.29289C6.31658 4.90237 5.68342 4.90237 5.29289 5.29289C4.90237 5.68342 4.90237 6.31658 5.29289 6.70711L10.5858 12L5.29289 17.2929C4.90237 17.6834 4.90237 18.3166 5.29289 18.7071C5.68342 19.0976 6.31658 19.0976 6.70711 18.7071L12 13.4142L17.2929 18.7071C17.6834 19.0976 18.3166 19.0976 18.7071 18.7071C19.0976 18.3166 19.0976 17.6834 18.7071 17.2929L13.4142 12L18.7071 6.70711Z"})}),Rs=b.forwardRef(function(t,n){return a.jsx(P,{px:"0",py:"0",_icon:{fontSize:"1.2em"},ref:n,...t})}),Ms=b.forwardRef(function(t,n){return a.jsx(Rs,{variant:"ghost","aria-label":"Close",ref:n,...t,children:t.children??a.jsx(Bs,{})})}),{withRootProvider:nt,withContext:S}=Re({key:"dialog"});nt(Ls,{defaultProps:{unmountOnExit:!0,lazyMount:!0}});const Us=nt(Ss,{defaultProps:{unmountOnExit:!0,lazyMount:!0}});S(st,"trigger",{forwardAsChild:!0});const $s=S(Xe,"positioner",{forwardAsChild:!0}),Gs=S(qe,"content",{forwardAsChild:!0});S(Ye,"description",{forwardAsChild:!0});const zs=S(tt,"title",{forwardAsChild:!0}),_s=S(He,"closeTrigger",{forwardAsChild:!0});b.forwardRef(function(t,n){const s=j();return a.jsx(H.button,{...t,ref:n,onClick:()=>s.setOpen(!1)})});const Ws=S(Ve,"backdrop",{forwardAsChild:!0}),Ks=S("div","body"),Vs=S("div","footer"),Hs=S("div","header"),{withProvider:qs,withContext:$,PropsProvider:Ys}=Re({key:"stat"}),re=qs("dl","root"),oe=$("dt","label"),ie=$("dd","valueText");$("span","helpText");$("span","valueUnit");$("span","indicator",{defaultProps:{"data-type":"up",children:a.jsx(js,{})}});$("span","indicator",{defaultProps:{"data-type":"down",children:a.jsx(As,{})}});b.forwardRef(function(t,n){const s=It({key:"stat"}),[r,o]=b.useMemo(()=>s.splitVariantProps(t),[t,s]);return a.jsx(Ys,{value:r,children:a.jsx(H.div,{ref:n,role:"group",display:"flex",flexWrap:"wrap",justifyContent:"space-around",alignItems:"flex-start",...o})})});function Xs({open:e,setOpen:t,onRetry:n,setShouldBgmPlay:s,summary:r}){const o=it(),i=at(),l=ct(),d=lt();return a.jsx(Us,{open:e,onOpenChange:c=>t(c.open),size:"sm",placement:"center",onExitComplete:()=>{r.killedNow&&i(o+1),t(!1)},children:a.jsxs(Ds,{children:[a.jsx(Ws,{}),a.jsx($s,{children:a.jsxs(Gs,{rounded:"xl",children:[a.jsxs(Hs,{display:"flex",alignItems:"center",gap:"2",children:[a.jsx(zs,{flex:"1",children:"けっか発表"}),a.jsx(_s,{asChild:!0,children:a.jsx(Ms,{size:"sm"})})]}),a.jsxs(Ks,{children:[a.jsxs(Me,{gap:"6",wrap:"wrap",children:[a.jsxs(re,{children:[a.jsx(oe,{children:"時間"}),a.jsxs(ie,{fontSize:"2xl",children:[r.timeSec,"s"]})]}),!d&&a.jsxs(re,{children:[a.jsx(oe,{children:"ヒントを使った問題数"}),a.jsx(ie,{fontSize:"2xl",children:r.usedHintCount})]}),a.jsxs(re,{children:[a.jsx(oe,{children:"まちがえた問題数"}),a.jsx(ie,{fontSize:"2xl",children:r.mistakeProblemCount})]})]}),r.killedNow&&a.jsxs(ae,{children:["レベルが",o,"から",o+1,"に上がった"]})]}),a.jsxs(Vs,{gap:"2",children:[a.jsx(P,{colorPalette:"blue",onClick:()=>{l&&s(!1),n()},children:"もう一度やる"}),a.jsx(P,{variant:"outline",onClick:()=>{l&&s(!0),t(!1)},children:"とじる"})]})]})})]})})}const nn={title:"Components/typing/ResultsDialog"},Zs=({battle:e,level:t,setLevel:n,sound:s,children:r})=>a.jsx(ut.Provider,{value:e,children:a.jsx(ht.Provider,{value:t,children:a.jsx(ft.Provider,{value:n,children:a.jsx(pt.Provider,{value:s,children:r})})})}),rn=()=>{const[e,t]=b.useState(!0),[n,s]=b.useState(!0),[r,o]=b.useState(!0),[i,l]=b.useState(3),[d,c]=b.useState(42),[u,m]=b.useState(2),[v,f]=b.useState(1),[g,p]=b.useState(!0),[y,C]=b.useState(!1),N=b.useMemo(()=>({timeSec:d,usedHintCount:u,mistakeProblemCount:v,killedNow:g}),[d,u,v,g]),E=()=>{f(0),m(0),c(0),t(!0),console.log("[ResultsDialog] onRetry called")};return a.jsx(Zs,{battle:n,level:i,setLevel:l,sound:r,children:a.jsxs(ae,{p:"6",children:[a.jsxs(At,{align:"stretch",gap:"3",mb:"4",children:[a.jsx(dt,{size:"md",children:"Playground"}),a.jsxs(Me,{gap:"2",flexWrap:"wrap",children:[a.jsx(P,{size:"sm",onClick:()=>t(!0),children:"ダイアログを開く"}),a.jsx(P,{size:"sm",variant:"outline",onClick:()=>t(!1),children:"ダイアログを閉じる"}),a.jsxs(P,{size:"sm",variant:"outline",onClick:()=>s(h=>!h),children:["battle 切替: ",String(n)]}),a.jsxs(P,{size:"sm",variant:"outline",onClick:()=>o(h=>!h),children:["sound 切替: ",String(r)]}),a.jsx(P,{size:"sm",onClick:()=>l(h=>Math.max(1,h-1)),children:"Lv -1"}),a.jsx(P,{size:"sm",onClick:()=>l(h=>h+1),children:"Lv +1"}),a.jsx(P,{size:"sm",onClick:()=>c(h=>Math.max(0,h-5)),children:"timeSec -5"}),a.jsx(P,{size:"sm",onClick:()=>c(h=>h+5),children:"timeSec +5"}),a.jsx(P,{size:"sm",onClick:()=>m(h=>Math.max(0,h-1)),children:"hint -1"}),a.jsx(P,{size:"sm",onClick:()=>m(h=>h+1),children:"hint +1"}),a.jsx(P,{size:"sm",onClick:()=>f(h=>Math.max(0,h-1)),children:"mistake -1"}),a.jsx(P,{size:"sm",onClick:()=>f(h=>h+1),children:"mistake +1"}),a.jsxs(P,{size:"sm",variant:"outline",onClick:()=>p(h=>!h),children:["killedNow 切替: ",String(g)]})]}),a.jsxs(ae,{fontSize:"sm",children:[a.jsx(L,{mr:"2",children:"open"}),String(e),a.jsx(L,{mx:"2",children:"battle"}),String(n),a.jsx(L,{mx:"2",children:"sound"}),String(r),a.jsx(L,{mx:"2",children:"level"}),i,a.jsx(L,{mx:"2",children:"timeSec"}),d,a.jsx(L,{mx:"2",children:"usedHintCount"}),u,a.jsx(L,{mx:"2",children:"mistakeProblemCount"}),v,a.jsx(L,{mx:"2",children:"killedNow"}),String(g),a.jsx(L,{mx:"2",children:"bgmShouldPlay"}),String(y)]}),a.jsx(Bt,{}),a.jsxs(jt,{fontSize:"sm",opacity:.8,children:["・battle=false の場合は「ヒントを使った問題数」が表示されます。",a.jsx("br",{}),"・killedNow=true の場合は「レベルアップ (Lv → Lv+1)」が表示され、閉じる時に useSetLevel によりレベルが+1されます。"]})]}),a.jsx(Xs,{open:e,setOpen:t,onRetry:E,setShouldBgmPlay:C,summary:N})]})})};typeof window<"u"&&window.document&&window.document.createElement&&document.documentElement.setAttribute("data-storyloaded","");export{rn as Basic,nn as default};
